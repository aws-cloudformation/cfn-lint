AWSTemplateFormatVersion: "2010-09-09"
Description: "Route53 resources"
Parameters:
  DomainName:
    Type: String
    Default: "www.example.com"
Resources:
  MyHostedZone:
    Type: "AWS::Route53::HostedZone"
    Properties:
      Name: !Ref "DomainName"
      VPCs:
        - VPCId: !ImportValue "infrastructure-vpc"
          VPCRegion: AWS::Region
  MyTXTRecordSet:
    Type: "AWS::Route53::RecordSet"
    Properties:
      Comment: "Record to point to the on-prem COOL.BLUE domain controller 00"
      HostedZoneId: !Ref "MyHostedZone"
      Name: "x.example.com"
      Type: "TXT"
      TTL: "300"
      ResourceRecords:
        - "\"MS=ms123123\""
  MyARecordSet:
    Type: "AWS::Route53::RecordSet"
    Properties:
      Comment: "Record to point to the on-prem COOL.BLUE domain controller 00"
      HostedZoneId: !Ref "MyHostedZone"
      Name: "www.example.com"
      Type: "A"
      TTL: "300"
      ResourceRecords:
        - "127.0.0.1"
  MyRecordSetGroup:
    Type: "AWS::Route53::RecordSetGroup"
    Properties:
      HostedZoneId: !Ref "MyHostedZone"
      RecordSets:
        - Name: "www.example.com"
          Type: "A"
          TTL: "300"
          ResourceRecords:
            - "255.255.255.255"
        - Name: "txt.example.com"
          Type: "TXT"
          TTL: "300"
          ResourceRecords:
            - "\"MS=ms123123123\""
