[
 {
  "op": "add",
  "path": "/definitions/BlockDeviceMapping/oneOfDescription",
  "value": "Specify only one ['VirtualName', 'Ebs', 'NoDevice']"
 },
 {
  "op": "add",
  "path": "/definitions/BlockDeviceMapping/oneOf",
  "value": [
   {
    "properties": {
     "Ebs": false,
     "NoDevice": false
    },
    "required": [
     "VirtualName"
    ],
    "type": "object"
   },
   {
    "properties": {
     "NoDevice": false,
     "VirtualName": false
    },
    "required": [
     "Ebs"
    ],
    "type": "object"
   },
   {
    "properties": {
     "Ebs": false,
     "VirtualName": false
    },
    "required": [
     "NoDevice"
    ],
    "type": "object"
   },
   {
    "maxProperties": 1,
    "minProperties": 1,
    "propertyNames": {
     "enum": [
      "Fn::Base64",
      "Fn::GetAtt",
      "Fn::GetAZs",
      "Fn::ImportValue",
      "Fn::Join",
      "Fn::Split",
      "Fn::FindInMap",
      "Fn::Select",
      "Ref",
      "Fn::If",
      "Fn::Contains",
      "Fn::Sub",
      "Fn::Cidr",
      "Fn::Length",
      "Fn::ToJsonString",
      "Fn::ForEach::[a-zA-Z0-9]+"
     ]
    },
    "type": "object"
   }
  ]
 },
 {
  "op": "add",
  "path": "/allOf",
  "value": [
   {
    "oneOf": [
     {
      "properties": {
       "LaunchTemplate": false
      },
      "required": [
       "ImageId"
      ],
      "type": "object"
     },
     {
      "properties": {
       "ImageId": false
      },
      "required": [
       "LaunchTemplate"
      ],
      "type": "object"
     },
     {
      "maxProperties": 1,
      "minProperties": 1,
      "propertyNames": {
       "enum": [
        "Fn::Base64",
        "Fn::GetAtt",
        "Fn::GetAZs",
        "Fn::ImportValue",
        "Fn::Join",
        "Fn::Split",
        "Fn::FindInMap",
        "Fn::Select",
        "Ref",
        "Fn::If",
        "Fn::Contains",
        "Fn::Sub",
        "Fn::Cidr",
        "Fn::Length",
        "Fn::ToJsonString",
        "Fn::ForEach::[a-zA-Z0-9]+"
       ]
      },
      "type": "object"
     }
    ],
    "oneOfDescription": "Specify only one ['ImageId', 'LaunchTemplate']"
   }
  ]
 },
 {
  "op": "add",
  "path": "/dependencies",
  "value": {
   "NetworkInterfaces": {
    "properties": {
     "SubnetId": false
    },
    "type": "object"
   }
  }
 }
]
