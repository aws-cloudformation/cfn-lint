{
 "if": {
  "properties": {
   "Cpu": {
    "type": [
     "string",
     "integer"
    ]
   },
   "Memory": {
    "type": [
     "string",
     "integer"
    ]
   },
   "RequiresCompatibilities": {
    "contains": {
     "enum": [
      "FARGATE"
     ],
     "type": "string"
    },
    "type": "array"
   }
  },
  "required": [
   "RequiresCompatibilities",
   "Cpu",
   "Memory"
  ]
 },
 "then": {
  "anyOf": [
   {
    "properties": {
     "Cpu": {
      "else": {
       "pattern": "^\\.25\\s*(?i)vCpu$"
      },
      "if": {
       "pattern": "^\\d+$",
       "type": [
        "integer",
        "string"
       ]
      },
      "then": {
       "enum": [
        "256"
       ]
      }
     },
     "Memory": {
      "enum": [
       "0.5 GB",
       "1 GB",
       "2 GB",
       "512",
       "1024",
       "2048"
      ]
     }
    }
   },
   {
    "properties": {
     "Cpu": {
      "else": {
       "pattern": "^\\.5\\s*(?i)vCpu$"
      },
      "if": {
       "pattern": "^\\d+$",
       "type": [
        "integer",
        "string"
       ]
      },
      "then": {
       "enum": [
        "512"
       ]
      }
     },
     "Memory": {
      "else": {
       "enum": [
        "1 GB",
        "2 GB",
        "3 GB",
        "4 GB"
       ]
      },
      "if": {
       "pattern": "^\\d+$",
       "type": [
        "integer",
        "string"
       ]
      },
      "then": {
       "maximum": 4096,
       "minimum": 1024,
       "multipleOf": 1024
      }
     }
    }
   },
   {
    "properties": {
     "Cpu": {
      "else": {
       "pattern": "^1\\s*(?i)vCpu$"
      },
      "if": {
       "pattern": "^\\d+$",
       "type": [
        "integer",
        "string"
       ]
      },
      "then": {
       "enum": [
        "1024"
       ]
      }
     },
     "Memory": {
      "else": {
       "enum": [
        "2 GB",
        "3 GB",
        "4 GB",
        "5 GB",
        "6 GB",
        "7 GB",
        "8 GB"
       ]
      },
      "if": {
       "pattern": "^\\d+$",
       "type": [
        "integer",
        "string"
       ]
      },
      "then": {
       "maximum": 8192,
       "minimum": 2048,
       "multipleOf": 1024
      }
     }
    }
   },
   {
    "properties": {
     "Cpu": {
      "else": {
       "pattern": "^2\\s*(?i)vCpu$"
      },
      "if": {
       "pattern": "^\\d+$",
       "type": [
        "integer",
        "string"
       ]
      },
      "then": {
       "enum": [
        "2048"
       ]
      }
     },
     "Memory": {
      "else": {
       "enum": [
        "4 GB",
        "5 GB",
        "6 GB",
        "7 GB",
        "8 GB",
        "9 GB",
        "10 GB",
        "11 GB",
        "12 GB",
        "13 GB",
        "14 GB",
        "15 GB",
        "16 GB"
       ]
      },
      "if": {
       "pattern": "^\\d+$",
       "type": [
        "integer",
        "string"
       ]
      },
      "then": {
       "maximum": 16384,
       "minimum": 4096,
       "multipleOf": 1024
      }
     }
    }
   },
   {
    "properties": {
     "Cpu": {
      "else": {
       "pattern": "^4\\s*(?i)vCpu$"
      },
      "if": {
       "pattern": "^\\d+$",
       "type": [
        "integer",
        "string"
       ]
      },
      "then": {
       "enum": [
        "4096"
       ]
      }
     },
     "Memory": {
      "else": {
       "enum": [
        "8 GB",
        "9 GB",
        "10 GB",
        "11 GB",
        "12 GB",
        "13 GB",
        "14 GB",
        "15 GB",
        "16 GB",
        "17 GB",
        "18 GB",
        "19 GB",
        "20 GB",
        "21 GB",
        "22 GB",
        "23 GB",
        "24 GB",
        "25 GB",
        "26 GB",
        "27 GB",
        "28 GB",
        "29 GB",
        "30 GB"
       ]
      },
      "if": {
       "pattern": "^\\d+$",
       "type": [
        "integer",
        "string"
       ]
      },
      "then": {
       "maximum": 30720,
       "minimum": 8192,
       "multipleOf": 1024
      }
     }
    }
   },
   {
    "properties": {
     "Cpu": {
      "else": {
       "pattern": "^8\\s*(?i)vCpu$"
      },
      "if": {
       "pattern": "^\\d+$",
       "type": [
        "integer",
        "string"
       ]
      },
      "then": {
       "enum": [
        "8192"
       ]
      }
     },
     "Memory": {
      "else": {
       "enum": [
        "16 GB",
        "20 GB",
        "24 GB",
        "28 GB",
        "32 GB",
        "36 GB",
        "40 GB",
        "44 GB",
        "48 GB",
        "52 GB",
        "56 GB",
        "60 GB"
       ]
      },
      "if": {
       "pattern": "^\\d+$",
       "type": [
        "integer",
        "string"
       ]
      },
      "then": {
       "maximum": 61440,
       "minimum": 16384,
       "multipleOf": 4096
      }
     }
    }
   },
   {
    "properties": {
     "Cpu": {
      "else": {
       "pattern": "^16\\s*(?i)vCpu$"
      },
      "if": {
       "pattern": "^\\d+$",
       "type": [
        "integer",
        "string"
       ]
      },
      "then": {
       "enum": [
        "16384"
       ]
      }
     },
     "Memory": {
      "else": {
       "enum": [
        "32 GB",
        "40 GB",
        "48 GB",
        "56 GB",
        "64 GB",
        "72 GB",
        "80 GB",
        "88 GB",
        "96 GB",
        "104 GB",
        "112 GB",
        "120 GB"
       ]
      },
      "if": {
       "pattern": "^\\d+$",
       "type": [
        "integer",
        "string"
       ]
      },
      "then": {
       "maximum": 122880,
       "minimum": 32768,
       "multipleOf": 8192
      }
     }
    }
   }
  ]
 }
}
