{
 "additionalProperties": false,
 "createOnlyProperties": [
  "/properties/ObjectLockEnabled",
  "/properties/BucketName"
 ],
 "definitions": {
  "AbortIncompleteMultipartUpload": {
   "additionalProperties": false,
   "properties": {
    "DaysAfterInitiation": {
     "type": "integer"
    }
   },
   "required": [
    "DaysAfterInitiation"
   ],
   "type": "object"
  },
  "AccelerateConfiguration": {
   "additionalProperties": false,
   "properties": {
    "AccelerationStatus": {
     "type": "string"
    }
   },
   "required": [
    "AccelerationStatus"
   ],
   "type": "object"
  },
  "AccessControlTranslation": {
   "additionalProperties": false,
   "properties": {
    "Owner": {
     "type": "string"
    }
   },
   "required": [
    "Owner"
   ],
   "type": "object"
  },
  "AnalyticsConfiguration": {
   "additionalProperties": false,
   "properties": {
    "Id": {
     "type": "string"
    },
    "Prefix": {
     "type": "string"
    },
    "StorageClassAnalysis": {
     "$ref": "#/definitions/StorageClassAnalysis"
    },
    "TagFilters": {
     "items": {
      "$ref": "#/definitions/TagFilter"
     },
     "type": "array",
     "uniqueItems": true
    }
   },
   "required": [
    "StorageClassAnalysis",
    "Id"
   ],
   "type": "object"
  },
  "BucketEncryption": {
   "additionalProperties": false,
   "properties": {
    "ServerSideEncryptionConfiguration": {
     "items": {
      "$ref": "#/definitions/ServerSideEncryptionRule"
     },
     "type": "array",
     "uniqueItems": true
    }
   },
   "required": [
    "ServerSideEncryptionConfiguration"
   ],
   "type": "object"
  },
  "CorsConfiguration": {
   "additionalProperties": false,
   "properties": {
    "CorsRules": {
     "items": {
      "$ref": "#/definitions/CorsRule"
     },
     "type": "array",
     "uniqueItems": true
    }
   },
   "required": [
    "CorsRules"
   ],
   "type": "object"
  },
  "CorsRule": {
   "additionalProperties": false,
   "properties": {
    "AllowedHeaders": {
     "items": {
      "type": "string"
     },
     "type": "array",
     "uniqueItems": true
    },
    "AllowedMethods": {
     "items": {
      "type": "string"
     },
     "type": "array",
     "uniqueItems": true
    },
    "AllowedOrigins": {
     "items": {
      "type": "string"
     },
     "type": "array",
     "uniqueItems": true
    },
    "ExposedHeaders": {
     "items": {
      "type": "string"
     },
     "type": "array",
     "uniqueItems": true
    },
    "Id": {
     "type": "string"
    },
    "MaxAge": {
     "type": "integer"
    }
   },
   "required": [
    "AllowedMethods",
    "AllowedOrigins"
   ],
   "type": "object"
  },
  "DataExport": {
   "additionalProperties": false,
   "properties": {
    "Destination": {
     "$ref": "#/definitions/Destination"
    },
    "OutputSchemaVersion": {
     "type": "string"
    }
   },
   "required": [
    "Destination",
    "OutputSchemaVersion"
   ],
   "type": "object"
  },
  "DefaultRetention": {
   "additionalProperties": false,
   "properties": {
    "Days": {
     "type": "integer"
    },
    "Mode": {
     "type": "string"
    },
    "Years": {
     "type": "integer"
    }
   },
   "type": "object"
  },
  "DeleteMarkerReplication": {
   "additionalProperties": false,
   "properties": {
    "Status": {
     "type": "string"
    }
   },
   "type": "object"
  },
  "Destination": {
   "additionalProperties": false,
   "properties": {
    "BucketAccountId": {
     "type": "string"
    },
    "BucketArn": {
     "type": "string"
    },
    "Format": {
     "type": "string"
    },
    "Prefix": {
     "type": "string"
    }
   },
   "required": [
    "BucketArn",
    "Format"
   ],
   "type": "object"
  },
  "EncryptionConfiguration": {
   "additionalProperties": false,
   "properties": {
    "ReplicaKmsKeyID": {
     "type": "string"
    }
   },
   "required": [
    "ReplicaKmsKeyID"
   ],
   "type": "object"
  },
  "FilterRule": {
   "additionalProperties": false,
   "properties": {
    "Name": {
     "type": "string"
    },
    "Value": {
     "type": "string"
    }
   },
   "required": [
    "Value",
    "Name"
   ],
   "type": "object"
  },
  "IntelligentTieringConfiguration": {
   "additionalProperties": false,
   "properties": {
    "Id": {
     "type": "string"
    },
    "Prefix": {
     "type": "string"
    },
    "Status": {
     "type": "string"
    },
    "TagFilters": {
     "items": {
      "$ref": "#/definitions/TagFilter"
     },
     "type": "array",
     "uniqueItems": true
    },
    "Tierings": {
     "items": {
      "$ref": "#/definitions/Tiering"
     },
     "type": "array",
     "uniqueItems": true
    }
   },
   "required": [
    "Status",
    "Tierings",
    "Id"
   ],
   "type": "object"
  },
  "InventoryConfiguration": {
   "additionalProperties": false,
   "properties": {
    "Destination": {
     "$ref": "#/definitions/Destination"
    },
    "Enabled": {
     "type": "boolean"
    },
    "Id": {
     "type": "string"
    },
    "IncludedObjectVersions": {
     "type": "string"
    },
    "OptionalFields": {
     "items": {
      "type": "string"
     },
     "type": "array",
     "uniqueItems": true
    },
    "Prefix": {
     "type": "string"
    },
    "ScheduleFrequency": {
     "type": "string"
    }
   },
   "required": [
    "Destination",
    "IncludedObjectVersions",
    "Enabled",
    "Id",
    "ScheduleFrequency"
   ],
   "type": "object"
  },
  "LambdaConfiguration": {
   "additionalProperties": false,
   "properties": {
    "Event": {
     "type": "string"
    },
    "Filter": {
     "$ref": "#/definitions/NotificationFilter"
    },
    "Function": {
     "type": "string"
    }
   },
   "required": [
    "Function",
    "Event"
   ],
   "type": "object"
  },
  "LifecycleConfiguration": {
   "additionalProperties": false,
   "properties": {
    "Rules": {
     "items": {
      "$ref": "#/definitions/Rule"
     },
     "type": "array",
     "uniqueItems": true
    }
   },
   "required": [
    "Rules"
   ],
   "type": "object"
  },
  "LoggingConfiguration": {
   "additionalProperties": false,
   "properties": {
    "DestinationBucketName": {
     "type": "string"
    },
    "LogFilePrefix": {
     "type": "string"
    }
   },
   "type": "object"
  },
  "Metrics": {
   "additionalProperties": false,
   "properties": {
    "EventThreshold": {
     "$ref": "#/definitions/ReplicationTimeValue"
    },
    "Status": {
     "type": "string"
    }
   },
   "required": [
    "Status"
   ],
   "type": "object"
  },
  "MetricsConfiguration": {
   "additionalProperties": false,
   "properties": {
    "AccessPointArn": {
     "type": "string"
    },
    "Id": {
     "type": "string"
    },
    "Prefix": {
     "type": "string"
    },
    "TagFilters": {
     "items": {
      "$ref": "#/definitions/TagFilter"
     },
     "type": "array",
     "uniqueItems": true
    }
   },
   "required": [
    "Id"
   ],
   "type": "object"
  },
  "NoncurrentVersionTransition": {
   "additionalProperties": false,
   "properties": {
    "StorageClass": {
     "type": "string"
    },
    "TransitionInDays": {
     "type": "integer"
    }
   },
   "required": [
    "StorageClass",
    "TransitionInDays"
   ],
   "type": "object"
  },
  "NotificationConfiguration": {
   "additionalProperties": false,
   "properties": {
    "LambdaConfigurations": {
     "items": {
      "$ref": "#/definitions/LambdaConfiguration"
     },
     "type": "array",
     "uniqueItems": true
    },
    "QueueConfigurations": {
     "items": {
      "$ref": "#/definitions/QueueConfiguration"
     },
     "type": "array",
     "uniqueItems": true
    },
    "TopicConfigurations": {
     "items": {
      "$ref": "#/definitions/TopicConfiguration"
     },
     "type": "array",
     "uniqueItems": true
    }
   },
   "type": "object"
  },
  "NotificationFilter": {
   "additionalProperties": false,
   "properties": {
    "S3Key": {
     "$ref": "#/definitions/S3KeyFilter"
    }
   },
   "required": [
    "S3Key"
   ],
   "type": "object"
  },
  "ObjectLockConfiguration": {
   "additionalProperties": false,
   "properties": {
    "ObjectLockEnabled": {
     "type": "string"
    },
    "Rule": {
     "$ref": "#/definitions/ObjectLockRule"
    }
   },
   "type": "object"
  },
  "ObjectLockRule": {
   "additionalProperties": false,
   "properties": {
    "DefaultRetention": {
     "$ref": "#/definitions/DefaultRetention"
    }
   },
   "type": "object"
  },
  "OwnershipControls": {
   "additionalProperties": false,
   "properties": {
    "Rules": {
     "items": {
      "$ref": "#/definitions/OwnershipControlsRule"
     },
     "type": "array",
     "uniqueItems": true
    }
   },
   "required": [
    "Rules"
   ],
   "type": "object"
  },
  "OwnershipControlsRule": {
   "additionalProperties": false,
   "properties": {
    "ObjectOwnership": {
     "type": "string"
    }
   },
   "type": "object"
  },
  "PublicAccessBlockConfiguration": {
   "additionalProperties": false,
   "properties": {
    "BlockPublicAcls": {
     "type": "boolean"
    },
    "BlockPublicPolicy": {
     "type": "boolean"
    },
    "IgnorePublicAcls": {
     "type": "boolean"
    },
    "RestrictPublicBuckets": {
     "type": "boolean"
    }
   },
   "type": "object"
  },
  "QueueConfiguration": {
   "additionalProperties": false,
   "properties": {
    "Event": {
     "type": "string"
    },
    "Filter": {
     "$ref": "#/definitions/NotificationFilter"
    },
    "Queue": {
     "type": "string"
    }
   },
   "required": [
    "Event",
    "Queue"
   ],
   "type": "object"
  },
  "RedirectAllRequestsTo": {
   "additionalProperties": false,
   "dependencies": {
    "RedirectAllRequestsTo": {
     "properties": {
      "ErrorDocument": false,
      "IndexDocument": false,
      "RoutingRules": false
     }
    }
   },
   "properties": {
    "HostName": {
     "type": "string"
    },
    "Protocol": {
     "type": "string"
    }
   },
   "required": [
    "HostName"
   ],
   "type": "object"
  },
  "RedirectRule": {
   "additionalProperties": false,
   "properties": {
    "HostName": {
     "type": "string"
    },
    "HttpRedirectCode": {
     "type": "string"
    },
    "Protocol": {
     "type": "string"
    },
    "ReplaceKeyPrefixWith": {
     "type": "string"
    },
    "ReplaceKeyWith": {
     "type": "string"
    }
   },
   "type": "object"
  },
  "ReplicaModifications": {
   "additionalProperties": false,
   "properties": {
    "Status": {
     "type": "string"
    }
   },
   "required": [
    "Status"
   ],
   "type": "object"
  },
  "ReplicationConfiguration": {
   "additionalProperties": false,
   "properties": {
    "Role": {
     "awsType": "IamRoleArn",
     "type": "string"
    },
    "Rules": {
     "items": {
      "$ref": "#/definitions/ReplicationRule"
     },
     "type": "array",
     "uniqueItems": true
    }
   },
   "required": [
    "Role",
    "Rules"
   ],
   "type": "object"
  },
  "ReplicationDestination": {
   "additionalProperties": false,
   "properties": {
    "AccessControlTranslation": {
     "$ref": "#/definitions/AccessControlTranslation"
    },
    "Account": {
     "type": "string"
    },
    "Bucket": {
     "type": "string"
    },
    "EncryptionConfiguration": {
     "$ref": "#/definitions/EncryptionConfiguration"
    },
    "Metrics": {
     "$ref": "#/definitions/Metrics"
    },
    "ReplicationTime": {
     "$ref": "#/definitions/ReplicationTime"
    },
    "StorageClass": {
     "type": "string"
    }
   },
   "required": [
    "Bucket"
   ],
   "type": "object"
  },
  "ReplicationRule": {
   "additionalProperties": false,
   "properties": {
    "DeleteMarkerReplication": {
     "$ref": "#/definitions/DeleteMarkerReplication"
    },
    "Destination": {
     "$ref": "#/definitions/ReplicationDestination"
    },
    "Filter": {
     "$ref": "#/definitions/ReplicationRuleFilter"
    },
    "Id": {
     "type": "string"
    },
    "Prefix": {
     "type": "string"
    },
    "Priority": {
     "type": "integer"
    },
    "SourceSelectionCriteria": {
     "$ref": "#/definitions/SourceSelectionCriteria"
    },
    "Status": {
     "type": "string"
    }
   },
   "required": [
    "Status",
    "Destination"
   ],
   "type": "object"
  },
  "ReplicationRuleAndOperator": {
   "additionalProperties": false,
   "properties": {
    "Prefix": {
     "type": "string"
    },
    "TagFilters": {
     "items": {
      "$ref": "#/definitions/TagFilter"
     },
     "type": "array",
     "uniqueItems": true
    }
   },
   "type": "object"
  },
  "ReplicationRuleFilter": {
   "additionalProperties": false,
   "properties": {
    "And": {
     "$ref": "#/definitions/ReplicationRuleAndOperator"
    },
    "Prefix": {
     "type": "string"
    },
    "TagFilter": {
     "$ref": "#/definitions/TagFilter"
    }
   },
   "type": "object"
  },
  "ReplicationTime": {
   "additionalProperties": false,
   "properties": {
    "Status": {
     "type": "string"
    },
    "Time": {
     "$ref": "#/definitions/ReplicationTimeValue"
    }
   },
   "required": [
    "Status",
    "Time"
   ],
   "type": "object"
  },
  "ReplicationTimeValue": {
   "additionalProperties": false,
   "properties": {
    "Minutes": {
     "type": "integer"
    }
   },
   "required": [
    "Minutes"
   ],
   "type": "object"
  },
  "RoutingRule": {
   "additionalProperties": false,
   "properties": {
    "RedirectRule": {
     "$ref": "#/definitions/RedirectRule"
    },
    "RoutingRuleCondition": {
     "$ref": "#/definitions/RoutingRuleCondition"
    }
   },
   "required": [
    "RedirectRule"
   ],
   "type": "object"
  },
  "RoutingRuleCondition": {
   "additionalProperties": false,
   "anyOf": [
    {
     "required": [
      "HttpErrorCodeReturnedEquals"
     ]
    },
    {
     "required": [
      "KeyPrefixEquals"
     ]
    }
   ],
   "properties": {
    "HttpErrorCodeReturnedEquals": {
     "type": "string"
    },
    "KeyPrefixEquals": {
     "type": "string"
    }
   },
   "type": "object"
  },
  "Rule": {
   "additionalProperties": false,
   "properties": {
    "AbortIncompleteMultipartUpload": {
     "$ref": "#/definitions/AbortIncompleteMultipartUpload"
    },
    "ExpirationDate": {
     "type": "string"
    },
    "ExpirationInDays": {
     "type": "integer"
    },
    "ExpiredObjectDeleteMarker": {
     "type": "boolean"
    },
    "Id": {
     "type": "string"
    },
    "NoncurrentVersionExpirationInDays": {
     "type": "integer"
    },
    "NoncurrentVersionTransition": {
     "$ref": "#/definitions/NoncurrentVersionTransition"
    },
    "NoncurrentVersionTransitions": {
     "items": {
      "$ref": "#/definitions/NoncurrentVersionTransition"
     },
     "type": "array",
     "uniqueItems": true
    },
    "Prefix": {
     "type": "string"
    },
    "Status": {
     "type": "string"
    },
    "TagFilters": {
     "items": {
      "$ref": "#/definitions/TagFilter"
     },
     "type": "array",
     "uniqueItems": true
    },
    "Transition": {
     "$ref": "#/definitions/Transition"
    },
    "Transitions": {
     "items": {
      "$ref": "#/definitions/Transition"
     },
     "type": "array",
     "uniqueItems": true
    }
   },
   "required": [
    "Status"
   ],
   "type": "object"
  },
  "S3KeyFilter": {
   "additionalProperties": false,
   "properties": {
    "Rules": {
     "items": {
      "$ref": "#/definitions/FilterRule"
     },
     "type": "array",
     "uniqueItems": true
    }
   },
   "required": [
    "Rules"
   ],
   "type": "object"
  },
  "ServerSideEncryptionByDefault": {
   "additionalProperties": false,
   "properties": {
    "KMSMasterKeyID": {
     "type": "string"
    },
    "SSEAlgorithm": {
     "type": "string"
    }
   },
   "required": [
    "SSEAlgorithm"
   ],
   "type": "object"
  },
  "ServerSideEncryptionRule": {
   "additionalProperties": false,
   "properties": {
    "BucketKeyEnabled": {
     "type": "boolean"
    },
    "ServerSideEncryptionByDefault": {
     "$ref": "#/definitions/ServerSideEncryptionByDefault"
    }
   },
   "type": "object"
  },
  "SourceSelectionCriteria": {
   "additionalProperties": false,
   "properties": {
    "ReplicaModifications": {
     "$ref": "#/definitions/ReplicaModifications"
    },
    "SseKmsEncryptedObjects": {
     "$ref": "#/definitions/SseKmsEncryptedObjects"
    }
   },
   "type": "object"
  },
  "SseKmsEncryptedObjects": {
   "additionalProperties": false,
   "properties": {
    "Status": {
     "type": "string"
    }
   },
   "required": [
    "Status"
   ],
   "type": "object"
  },
  "StorageClassAnalysis": {
   "additionalProperties": false,
   "properties": {
    "DataExport": {
     "$ref": "#/definitions/DataExport"
    }
   },
   "type": "object"
  },
  "Tag": {
   "additionalProperties": false,
   "properties": {
    "Key": {
     "type": "string"
    },
    "Value": {
     "type": "string"
    }
   },
   "required": [
    "Value",
    "Key"
   ],
   "type": "object"
  },
  "TagFilter": {
   "additionalProperties": false,
   "properties": {
    "Key": {
     "type": "string"
    },
    "Value": {
     "type": "string"
    }
   },
   "required": [
    "Value",
    "Key"
   ],
   "type": "object"
  },
  "Tiering": {
   "additionalProperties": false,
   "properties": {
    "AccessTier": {
     "type": "string"
    },
    "Days": {
     "type": "integer"
    }
   },
   "required": [
    "AccessTier",
    "Days"
   ],
   "type": "object"
  },
  "TopicConfiguration": {
   "additionalProperties": false,
   "properties": {
    "Event": {
     "type": "string"
    },
    "Filter": {
     "$ref": "#/definitions/NotificationFilter"
    },
    "Topic": {
     "type": "string"
    }
   },
   "required": [
    "Event",
    "Topic"
   ],
   "type": "object"
  },
  "Transition": {
   "additionalProperties": false,
   "properties": {
    "StorageClass": {
     "type": "string"
    },
    "TransitionDate": {
     "type": "string"
    },
    "TransitionInDays": {
     "type": "integer"
    }
   },
   "required": [
    "StorageClass"
   ],
   "type": "object"
  },
  "VersioningConfiguration": {
   "additionalProperties": false,
   "properties": {
    "Status": {
     "type": "string"
    }
   },
   "required": [
    "Status"
   ],
   "type": "object"
  },
  "WebsiteConfiguration": {
   "additionalProperties": false,
   "properties": {
    "ErrorDocument": {
     "type": "string"
    },
    "IndexDocument": {
     "type": "string"
    },
    "RedirectAllRequestsTo": {
     "$ref": "#/definitions/RedirectAllRequestsTo"
    },
    "RoutingRules": {
     "items": {
      "$ref": "#/definitions/RoutingRule"
     },
     "type": "array",
     "uniqueItems": true
    }
   },
   "type": "object"
  }
 },
 "description": "Resource Type definition for AWS::S3::Bucket",
 "primaryIdentifier": [
  "/properties/Id"
 ],
 "properties": {
  "AccelerateConfiguration": {
   "$ref": "#/definitions/AccelerateConfiguration"
  },
  "AccessControl": {
   "type": "string"
  },
  "AnalyticsConfigurations": {
   "items": {
    "$ref": "#/definitions/AnalyticsConfiguration"
   },
   "type": "array",
   "uniqueItems": true
  },
  "Arn": {
   "type": "string"
  },
  "BucketEncryption": {
   "$ref": "#/definitions/BucketEncryption"
  },
  "BucketName": {
   "maxLength": 63,
   "minLength": 3,
   "pattern": "^[a-z0-9][a-z0-9.-]*[a-z0-9]$",
   "type": "string"
  },
  "CorsConfiguration": {
   "$ref": "#/definitions/CorsConfiguration"
  },
  "DomainName": {
   "type": "string"
  },
  "DualStackDomainName": {
   "type": "string"
  },
  "Id": {
   "type": "string"
  },
  "IntelligentTieringConfigurations": {
   "items": {
    "$ref": "#/definitions/IntelligentTieringConfiguration"
   },
   "type": "array",
   "uniqueItems": true
  },
  "InventoryConfigurations": {
   "items": {
    "$ref": "#/definitions/InventoryConfiguration"
   },
   "type": "array",
   "uniqueItems": true
  },
  "LifecycleConfiguration": {
   "$ref": "#/definitions/LifecycleConfiguration"
  },
  "LoggingConfiguration": {
   "$ref": "#/definitions/LoggingConfiguration"
  },
  "MetricsConfigurations": {
   "items": {
    "$ref": "#/definitions/MetricsConfiguration"
   },
   "type": "array",
   "uniqueItems": true
  },
  "NotificationConfiguration": {
   "$ref": "#/definitions/NotificationConfiguration"
  },
  "ObjectLockConfiguration": {
   "$ref": "#/definitions/ObjectLockConfiguration"
  },
  "ObjectLockEnabled": {
   "type": "boolean"
  },
  "OwnershipControls": {
   "$ref": "#/definitions/OwnershipControls"
  },
  "PublicAccessBlockConfiguration": {
   "$ref": "#/definitions/PublicAccessBlockConfiguration"
  },
  "RegionalDomainName": {
   "type": "string"
  },
  "ReplicationConfiguration": {
   "$ref": "#/definitions/ReplicationConfiguration"
  },
  "Tags": {
   "items": {
    "$ref": "#/definitions/Tag"
   },
   "type": "array",
   "uniqueItems": false
  },
  "VersioningConfiguration": {
   "$ref": "#/definitions/VersioningConfiguration"
  },
  "WebsiteConfiguration": {
   "$ref": "#/definitions/WebsiteConfiguration"
  },
  "WebsiteURL": {
   "type": "string"
  }
 },
 "readOnlyProperties": [
  "/properties/RegionalDomainName",
  "/properties/Id",
  "/properties/WebsiteURL",
  "/properties/Arn",
  "/properties/DomainName",
  "/properties/DualStackDomainName"
 ],
 "typeName": "AWS::S3::Bucket"
}
