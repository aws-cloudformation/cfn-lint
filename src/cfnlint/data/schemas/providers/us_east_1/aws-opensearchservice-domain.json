{
 "additionalProperties": false,
 "conditionalCreateOnlyProperties": [
  "/properties/EncryptionAtRestOptions/Enabled",
  "/properties/EncryptionAtRestOptions/KmsKeyId",
  "/properties/AdvancedSecurityOptions/Enabled"
 ],
 "createOnlyProperties": [
  "/properties/DomainName"
 ],
 "definitions": {
  "AdvancedSecurityOptionsInput": {
   "additionalProperties": false,
   "properties": {
    "AnonymousAuthDisableDate": {
     "type": "string"
    },
    "AnonymousAuthEnabled": {
     "type": "boolean"
    },
    "Enabled": {
     "type": "boolean"
    },
    "InternalUserDatabaseEnabled": {
     "type": "boolean"
    },
    "MasterUserOptions": {
     "$ref": "#/definitions/MasterUserOptions"
    },
    "SAMLOptions": {
     "$ref": "#/definitions/SAMLOptions"
    }
   },
   "type": "object"
  },
  "ClusterConfig": {
   "additionalProperties": false,
   "properties": {
    "DedicatedMasterCount": {
     "type": "integer"
    },
    "DedicatedMasterEnabled": {
     "type": "boolean"
    },
    "DedicatedMasterType": {
     "type": "string"
    },
    "InstanceCount": {
     "type": "integer"
    },
    "InstanceType": {
     "type": "string"
    },
    "MultiAZWithStandbyEnabled": {
     "type": "boolean"
    },
    "WarmCount": {
     "type": "integer"
    },
    "WarmEnabled": {
     "type": "boolean"
    },
    "WarmType": {
     "type": "string"
    },
    "ZoneAwarenessConfig": {
     "$ref": "#/definitions/ZoneAwarenessConfig"
    },
    "ZoneAwarenessEnabled": {
     "type": "boolean"
    }
   },
   "type": "object"
  },
  "CognitoOptions": {
   "additionalProperties": false,
   "properties": {
    "Enabled": {
     "type": "boolean"
    },
    "IdentityPoolId": {
     "type": "string"
    },
    "RoleArn": {
     "type": "string"
    },
    "UserPoolId": {
     "type": "string"
    }
   },
   "type": "object"
  },
  "DomainEndpointOptions": {
   "additionalProperties": false,
   "properties": {
    "CustomEndpoint": {
     "type": "string"
    },
    "CustomEndpointCertificateArn": {
     "type": "string"
    },
    "CustomEndpointEnabled": {
     "type": "boolean"
    },
    "EnforceHTTPS": {
     "type": "boolean"
    },
    "TLSSecurityPolicy": {
     "type": "string"
    }
   },
   "type": "object"
  },
  "EBSOptions": {
   "additionalProperties": false,
   "properties": {
    "EBSEnabled": {
     "type": "boolean"
    },
    "Iops": {
     "type": "integer"
    },
    "Throughput": {
     "type": "integer"
    },
    "VolumeSize": {
     "type": "integer"
    },
    "VolumeType": {
     "type": "string"
    }
   },
   "type": "object"
  },
  "EncryptionAtRestOptions": {
   "additionalProperties": false,
   "properties": {
    "Enabled": {
     "type": "boolean"
    },
    "KmsKeyId": {
     "type": "string"
    }
   },
   "type": "object"
  },
  "Idp": {
   "additionalProperties": false,
   "properties": {
    "EntityId": {
     "type": "string"
    },
    "MetadataContent": {
     "maxLength": 1048576,
     "minLength": 1,
     "type": "string"
    }
   },
   "required": [
    "MetadataContent",
    "EntityId"
   ],
   "type": "object"
  },
  "LogPublishingOption": {
   "additionalProperties": false,
   "properties": {
    "CloudWatchLogsLogGroupArn": {
     "type": "string"
    },
    "Enabled": {
     "type": "boolean"
    }
   },
   "type": "object"
  },
  "MasterUserOptions": {
   "additionalProperties": false,
   "properties": {
    "MasterUserARN": {
     "type": "string"
    },
    "MasterUserName": {
     "type": "string"
    },
    "MasterUserPassword": {
     "type": "string"
    }
   },
   "type": "object"
  },
  "NodeToNodeEncryptionOptions": {
   "additionalProperties": false,
   "properties": {
    "Enabled": {
     "type": "boolean"
    }
   },
   "type": "object"
  },
  "OffPeakWindow": {
   "additionalProperties": false,
   "properties": {
    "WindowStartTime": {
     "$ref": "#/definitions/WindowStartTime"
    }
   },
   "type": "object"
  },
  "OffPeakWindowOptions": {
   "additionalProperties": false,
   "properties": {
    "Enabled": {
     "type": "boolean"
    },
    "OffPeakWindow": {
     "$ref": "#/definitions/OffPeakWindow"
    }
   },
   "type": "object"
  },
  "SAMLOptions": {
   "additionalProperties": false,
   "properties": {
    "Enabled": {
     "type": "boolean"
    },
    "Idp": {
     "$ref": "#/definitions/Idp"
    },
    "MasterBackendRole": {
     "type": "string"
    },
    "MasterUserName": {
     "type": "string"
    },
    "RolesKey": {
     "type": "string"
    },
    "SessionTimeoutMinutes": {
     "type": "integer"
    },
    "SubjectKey": {
     "type": "string"
    }
   },
   "type": "object"
  },
  "ServiceSoftwareOptions": {
   "additionalProperties": false,
   "properties": {
    "AutomatedUpdateDate": {
     "type": "string"
    },
    "Cancellable": {
     "type": "boolean"
    },
    "CurrentVersion": {
     "type": "string"
    },
    "Description": {
     "type": "string"
    },
    "NewVersion": {
     "type": "string"
    },
    "OptionalDeployment": {
     "type": "boolean"
    },
    "UpdateAvailable": {
     "type": "boolean"
    },
    "UpdateStatus": {
     "type": "string"
    }
   },
   "type": "object"
  },
  "SnapshotOptions": {
   "additionalProperties": false,
   "properties": {
    "AutomatedSnapshotStartHour": {
     "type": "integer"
    }
   },
   "type": "object"
  },
  "SoftwareUpdateOptions": {
   "additionalProperties": false,
   "properties": {
    "AutoSoftwareUpdateEnabled": {
     "type": "boolean"
    }
   },
   "type": "object"
  },
  "Tag": {
   "additionalProperties": false,
   "properties": {
    "Key": {
     "description": "The value of the tag.",
     "maxLength": 128,
     "minLength": 0,
     "type": "string"
    },
    "Value": {
     "description": "The key of the tag.",
     "maxLength": 256,
     "minLength": 0,
     "type": "string"
    }
   },
   "required": [
    "Value",
    "Key"
   ],
   "type": "object"
  },
  "VPCOptions": {
   "additionalProperties": false,
   "properties": {
    "SecurityGroupIds": {
     "items": {
      "type": "string"
     },
     "type": "array",
     "uniqueItems": true
    },
    "SubnetIds": {
     "items": {
      "type": "string"
     },
     "type": "array",
     "uniqueItems": true
    }
   },
   "type": "object"
  },
  "WindowStartTime": {
   "additionalProperties": false,
   "properties": {
    "Hours": {
     "maximum": 23,
     "minimum": 0,
     "type": "integer"
    },
    "Minutes": {
     "maximum": 59,
     "minimum": 0,
     "type": "integer"
    }
   },
   "required": [
    "Hours",
    "Minutes"
   ],
   "type": "object"
  },
  "ZoneAwarenessConfig": {
   "additionalProperties": false,
   "properties": {
    "AvailabilityZoneCount": {
     "type": "integer"
    }
   },
   "type": "object"
  }
 },
 "description": "An example resource schema demonstrating some basic constructs and validation rules.",
 "handlers": {
  "create": {
   "permissions": [
    "es:CreateDomain",
    "es:DescribeDomain",
    "es:AddTags",
    "es:ListTags"
   ]
  },
  "delete": {
   "permissions": [
    "es:DeleteDomain",
    "es:DescribeDomain"
   ]
  },
  "read": {
   "permissions": [
    "es:DescribeDomain",
    "es:ListTags"
   ]
  },
  "update": {
   "permissions": [
    "es:UpdateDomain",
    "es:UpgradeDomain",
    "es:DescribeDomain",
    "es:AddTags",
    "es:RemoveTags",
    "es:ListTags",
    "es:DescribeDomainChangeProgress"
   ]
  }
 },
 "primaryIdentifier": [
  "/properties/DomainName"
 ],
 "properties": {
  "AccessPolicies": {
   "type": "object"
  },
  "AdvancedOptions": {
   "additionalProperties": false,
   "patternProperties": {
    "[a-zA-Z0-9]+": {
     "type": "string"
    }
   },
   "type": "object"
  },
  "AdvancedSecurityOptions": {
   "$ref": "#/definitions/AdvancedSecurityOptionsInput"
  },
  "Arn": {
   "type": "string"
  },
  "ClusterConfig": {
   "$ref": "#/definitions/ClusterConfig"
  },
  "CognitoOptions": {
   "$ref": "#/definitions/CognitoOptions"
  },
  "DomainArn": {
   "type": "string"
  },
  "DomainEndpoint": {
   "type": "string"
  },
  "DomainEndpointOptions": {
   "$ref": "#/definitions/DomainEndpointOptions"
  },
  "DomainEndpoints": {
   "additionalProperties": false,
   "patternProperties": {
    "^.*$": {
     "type": "string"
    }
   },
   "type": "object"
  },
  "DomainName": {
   "type": "string"
  },
  "EBSOptions": {
   "$ref": "#/definitions/EBSOptions"
  },
  "EncryptionAtRestOptions": {
   "$ref": "#/definitions/EncryptionAtRestOptions"
  },
  "EngineVersion": {
   "type": "string"
  },
  "Id": {
   "type": "string"
  },
  "LogPublishingOptions": {
   "additionalProperties": false,
   "patternProperties": {
    "[a-zA-Z0-9]+": {
     "$ref": "#/definitions/LogPublishingOption"
    }
   },
   "type": "object"
  },
  "NodeToNodeEncryptionOptions": {
   "$ref": "#/definitions/NodeToNodeEncryptionOptions"
  },
  "OffPeakWindowOptions": {
   "$ref": "#/definitions/OffPeakWindowOptions"
  },
  "ServiceSoftwareOptions": {
   "$ref": "#/definitions/ServiceSoftwareOptions"
  },
  "SnapshotOptions": {
   "$ref": "#/definitions/SnapshotOptions"
  },
  "SoftwareUpdateOptions": {
   "$ref": "#/definitions/SoftwareUpdateOptions"
  },
  "Tags": {
   "description": "An arbitrary set of tags (key-value pairs) for this Domain.",
   "items": {
    "$ref": "#/definitions/Tag"
   },
   "type": "array",
   "uniqueItems": true
  },
  "VPCOptions": {
   "$ref": "#/definitions/VPCOptions"
  }
 },
 "readOnlyProperties": [
  "/properties/Id",
  "/properties/Arn",
  "/properties/DomainArn",
  "/properties/DomainEndpoint",
  "/properties/DomainEndpoints",
  "/properties/ServiceSoftwareOptions",
  "/properties/AdvancedSecurityOptions/AnonymousAuthDisableDate"
 ],
 "sourceUrl": "https://github.com/aws-cloudformation/aws-cloudformation-rpdk.git",
 "typeName": "AWS::OpenSearchService::Domain",
 "writeOnlyProperties": [
  "/properties/AdvancedSecurityOptions/MasterUserOptions",
  "/properties/AdvancedSecurityOptions/SAMLOptions/MasterUserName",
  "/properties/AdvancedSecurityOptions/SAMLOptions/MasterBackendRole"
 ]
}
